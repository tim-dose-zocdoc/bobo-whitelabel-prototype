;!function(d,i){var s=d.GriddyResponsiveTool=function(){},g="sg-griddy-responsive-container";_.extend(s.prototype,{_toggleGrid:function(d){var i=d.children(".sg-griddy-responsive"),s=i.length>0;s?this._clearGrid(d):this._renderGrid(d)},_renderGrid:function(d){d.addClass(g),d.append('<div class="sg-griddy-responsive">                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                    <div class="sg-griddy-col"></div>                </div>')},_clearGrid:function(d){d.removeClass(g),d.children(".sg-griddy-responsive").remove()}})}(ZD.module("styleguide"),window);
;!function(d,r){var i=d.GriddyRowTool=function(){},e="sg-griddy";_.extend(i.prototype,{_toggleGrid:function(d){var r=d.hasClass(e);r?this._clearGrid(d):this._renderGrid(d)},_renderGrid:function(d){d.addClass(e)},_clearGrid:function(d){d.removeClass(e)}})}(ZD.module("styleguide"),window);
;!function(i,e){var d=i.GriddyToolManager=function(){this._griddyResponsiveTool=new i.GriddyResponsiveTool,this._griddyRowTool=new i.GriddyRowTool,this._$griddyfiedContainerEl=null},o="griddy-selectable-container";_.extend(d.prototype,{toggleGridOnBody:function(){this._griddyResponsiveTool._toggleGrid($("body")),this._griddyRowTool._toggleGrid($("body"))},toggleSelectableContainerGrid:function(){var i=$("body"),e=i.hasClass(o);this._$griddyfiedContainerEl||e?this._cleanSelectableContainerTool(!0):(i.addClass(o),$("."+o+" *").bind("click.griddy",_.bind(this._selectableContainerClicked,this)))},_selectableContainerClicked:function(i){i.stopPropagation();var e=$(i.currentTarget);this.renderGrid(e),this._$griddyfiedContainerEl=e,this._cleanSelectableContainerTool(!1)},_cleanSelectableContainerTool:function(i){$("."+o+" *").unbind("click.griddy"),$("body").removeClass(o),i&&(this.clearGrid(this._$griddyfiedContainerEl),this._$griddyfiedContainerEl=null)},renderGrid:function(i){this._griddyResponsiveTool._renderGrid(i),this._griddyRowTool._renderGrid(i)},clearGrid:function(i){i&&(this._griddyResponsiveTool._clearGrid(i),this._griddyRowTool._clearGrid(i))}})}(ZD.module("styleguide"),window);
;!function(i,n){var e=i.Griddy=function(i){this.c=this.constructor,this._zls=i,this._config=_.clone(this.c.DEFAULT_CONFIG)};_.extend(e,{EVENTS:{KEYUP:"keyup.griddy",KEYDOWN:"keydown.griddy"},KEYCODES:{TAB:9,Q_LOWERCASE:81,W_LOWERCASE:87},STORAGE_KEY:"config",DEFAULT_CONFIG:{isEnabled:!1,isVisible:!1},NOT_FOUND_MESSAGE:"Griddy - The element {0} was not found",BAD_SELECTOR_CLASS_MESSAGE:"Griddy - Invalid selector: {0}"}),_.extend(e.prototype,{start:function(){var n=this;n._griddyToolManager=new i.GriddyToolManager,this._configureFromStorage().always(function(){n._configureFromUrl(),n._saveConfigOnStorage(),n._config.isEnabled?(n._renderGrid(),n._unBindKeyboard()._bindKeyboard()):n._unBindKeyboard()})},stop:function(){this._unBindKeyboard()},forceActivated:function(){this._config.isEnabled=!0,this._renderGrid(),this._unBindKeyboard()._bindKeyboard()},_renderGrid:function(){this._config.isEnabled&&this._config.isVisible?this._griddyToolManager.renderGrid($("body")):this._griddyToolManager.clearGrid($("body"))},_configureFromStorage:function(){var i=this._zls.get(this.c.STORAGE_KEY),n=this;return i.done(function(i){_.extend(n._config,i)}),i},_configureFromUrl:function(){var i=this._getQueryString();i.key&&(this._config.isEnabled=!0)},_saveConfigOnStorage:function(){this._zls.set(this.c.STORAGE_KEY,this._config)},_getQueryString:function(){var i=null,n=null,e=this._getQueryStringUrl().split("&");return _.each(e,function(e){if(-1!=e.indexOf("griddy")){i="griddy";var t=e.split("=");n=t.length>1?t[1]:null}}),{key:i,value:n}},_getQueryStringUrl:function(){return n.location.search},_unBindKeyboard:function(){return $(document).off(this.c.EVENTS.KEYDOWN).off(this.c.EVENTS.KEYUP),this},_bindKeyboard:function(){var i=this,n={};return n[this.c.KEYCODES.Q_LOWERCASE]=!1,n[this.c.KEYCODES.W_LOWERCASE]=!1,n[this.c.KEYCODES.TAB]=!1,$(document).on(this.c.EVENTS.KEYDOWN,function(e){e.keyCode in n&&(n[e.keyCode]=!0,n[i.c.KEYCODES.Q_LOWERCASE]&&n[i.c.KEYCODES.W_LOWERCASE]&&(n[i.c.KEYCODES.TAB]?i._griddyToolManager.toggleSelectableContainerGrid():(i._config.isVisible=!i._config.isVisible,i._saveConfigOnStorage(),i._griddyToolManager.toggleGridOnBody())))}).on(this.c.EVENTS.KEYUP,function(i){i.keyCode in n&&(n[i.keyCode]=!1)}),this}})}(ZD.module("styleguide"),window);
;!function(e,r){r.GriddyPromise=$.Deferred(),$(function(){var d="GRIDDY";if(!e.griddyplugin){var i=e.localStorage?new e.ZLS.LS(e.localStorage,d):new e.ZLS.LSstub(null,d),l=e.griddyplugin=new r.Griddy(i);l.start(),r.GriddyPromise.resolve()}})}(window,ZD.module("styleguide"));
