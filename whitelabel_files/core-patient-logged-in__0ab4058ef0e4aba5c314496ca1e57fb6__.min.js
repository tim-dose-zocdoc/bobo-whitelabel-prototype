;!function(e,t,n){function r(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function o(e,n,o,i,c,l){var s,u,p=t.createElement("script");i=i||f.errorTimeout,p.src=e;for(u in o)p.setAttribute(u,o[u]);n=l?a:n||v,p.onreadystatechange=p.onload=function(){!s&&r(p.readyState)&&(s=1,n(),p.onload=p.onreadystatechange=null)},d(function(){s||(s=1,n(1))},i),L(),c?p.onload():h.parentNode.insertBefore(p,h)}function i(e,n,r,o,i,c){var l,s=t.createElement("link");o=o||f.errorTimeout,n=c?a:n||v,s.href=e,s.rel="stylesheet",s.type="text/css";for(l in r)s.setAttribute(l,r[l]);i||(L(),h.parentNode.insertBefore(s,h),d(n,0))}function a(){var e=m.shift();g=1,e?e.t?d(function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):g=0}function c(e,n,o,i,c,l,s){function u(t){if(!y&&r(p.readyState)&&(b.r=y=1,!g&&a(),t)){"img"!=e&&d(function(){x.removeChild(p)},50);for(var o in w[n])w[n].hasOwnProperty(o)&&w[n][o].onload();p.onload=p.onreadystatechange=null}}s=s||f.errorTimeout;var p=t.createElement(e),y=0,v=0,b={t:o,s:n,e:c,a:l,x:s};1===w[n]&&(v=1,w[n]=[]),"object"==e?(p.data=n,p.setAttribute("type","text/css")):(p.src=n,p.type=e),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){u.call(this,v)},m.splice(i,0,b),"img"!=e&&(v||2===w[n]?(L(),x.insertBefore(p,j?null:h),d(u,s)):w[n].push(p))}function l(e,t,n,r,o){return g=0,t=t||"j",T(e)?c("c"==t?A:O,e,t,this.i++,n,r,o):(m.splice(this.i++,0,e),1==m.length&&a()),this}function s(){var e=f;return e.loader={load:l,i:0},e}var u,f,p=t.documentElement,d=e.setTimeout,h=t.getElementsByTagName("script")[0],y={}.toString,m=[],g=0,v=function(){},b="MozAppearance"in p.style,j=b&&!!t.createRange().compareNode,x=j?p:h.parentNode,E=e.opera&&"[object Opera]"==y.call(e.opera),S=!!t.attachEvent&&!E,O=b?"object":S?"script":"img",A=S?"script":O,C=Array.isArray||function(e){return"[object Array]"==y.call(e)},N=function(e){return Object(e)===e},T=function(e){return"string"==typeof e},B=function(e){return"[object Function]"==y.call(e)},L=function(){h&&h.parentNode||(h=t.getElementsByTagName("script")[0])},k=[],w={},P={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};f=function(e){function t(e){var t,n,r,o=e.split("!"),i=k.length,a=o.pop(),c=o.length,l={url:a,origUrl:a,prefixes:o};for(n=0;c>n;n++)r=o[n].split("="),t=P[r.shift()],t&&(l=t(l,r));for(n=0;i>n;n++)l=k[n](l);return l}function r(e){var t=e.split("?")[0];return t.substr(t.lastIndexOf(".")+1)}function o(e,o,i,a,c){var l=t(e),u=l.autoCallback;r(l.url);if(!l.bypass)return o&&(o=B(o)?o:o[e]||o[a]||o[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,o,i,a,c):(w[l.url]&&l.reexecute!==!0?l.noexec=!0:w[l.url]=1,e&&i.load(l.url,l.forceCSS||!l.forceJS&&"css"==r(l.url)?"c":n,l.noexec,l.attrs,l.timeout),(B(o)||B(u))&&i.load(function(){s(),o&&o(l.origUrl,c,a),u&&u(l.origUrl,c,a),w[l.url]=2}),void 0)}function i(e,t){function n(e,n){if(""===e||e){if(T(e))n||(s=function(){var e=[].slice.call(arguments);u.apply(this,e),f()}),o(e,s,t,0,a);else if(N(e)){r=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}();for(i in e)e.hasOwnProperty(i)&&(n||--r||(B(s)?s=function(){var e=[].slice.call(arguments);u.apply(this,e),f()}:s[i]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(u[i])),o(e[i],s,t,i,a))}}else!n&&f()}var r,i,a=!!e.test,c=a?e.yep:e.nope,l=e.load||e.both,s=e.callback||v,u=s,f=e.complete||v;n(c,!!l||!!e.complete),l&&n(l),!l&&!!e.complete&&n("")}var a,c,l=this.yepnope.loader;if(T(e))o(e,0,l,0);else if(C(e))for(a=0;a<e.length;a++)c=e[a],T(c)?o(c,0,l,0):C(c)?f(c):N(c)&&i(c,l);else N(e)&&i(e,l)},f.addPrefix=function(e,t){P[e]=t},f.addFilter=function(e){k.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=s(),e.yepnope.executeStack=a,e.yepnope.injectJs=o,e.yepnope.injectCss=i}(this,document);
;!function(n){n.addPrefix("css",function(n){return n.forceCSS=!0,n}),n.addPrefix("js",function(n){return n.forceJS=!0,n})}(yepnope);
;(function(e){var t=this,r=t.AssetManager={},n=t._,s=t.jQuery,a=t.i18n,i=t.AB,u=t.yepnope;r.url="/cassette/",r.getresources="getresources",r.loadBundles=function(){var e,t=l.apply(this,Array.prototype.slice.call(arguments));if(t=c(t),!t.length)throw new Error("No valid bundles");return e=s.Deferred(),o(t,e,d),e.promise()};var l=function(){var e,t=Array.prototype.slice.call(arguments);return e=1===t.length?n.isArray(t[0])?t[0]:[t[0]]:t},c=function(e){var t,r=[];for(t=0;t<e.length;t++)n.isString(e[t])&&!n.isEmpty(e[t])&&r.push(e[t]);return r},o=function(e,t,a){n.isString(e)&&(e=[e]),s.ajax({url:r.url+r.getresources,type:"POST",traditional:!0,dataType:"json",data:{bundles:e},success:function(e){a(e,t)},error:function(){t.reject()}})},f=function(e){return e.replace(/^(?:\/\/|[^\/]+)*\//,"")},g=function(){return n.chain(e.getElementsByTagName("script")).filter(function(e){return!!e.src}).map(function(e){return f(s(e).attr("src"))}).value()},p=function(){var t="stylesheet";return n.chain(e.getElementsByTagName("link")).filter(function(e){return e.rel===t}).map(function(e){return f(s(e).attr("href"))}).value()},h=function(e,t){return n.filter(e,function(e){return!n.contains(t,f(e))})},d=function(e,t){var r,n,s,u=[];if(e=e||{},e.i18n&&(a.data(e.i18n),delete e.i18n),e.ab&&(i.loadConfigs(e.ab),delete e.ab),e.css){for(r=h(e.css,p()),s=0;s<r.length;s++)u.push("css!"+r[s]);delete e.css}if(e.js){for(n=h(e.js,g()),s=0;s<n.length;s++)u.push("js!"+n[s]);delete e.js}u.length?y(u,t):t.resolve()},y=function(e,t){var r=e.length,n=0;u({load:e,callback:function(){n++,n===r&&t.resolve()}})}}).call(this,document);
;!function(n,i){var o="-header-account-bar",e=o+"-notifications",t=o+"-account",a=o+"-dropdown",c=a+"-signin",p="-unseen-notifications";n.Classes={Base:o,Header:{Notifications:{Base:e,Icon:e+"-icon",Badge:e+"-badge",Active:e+"-active"},Account:{Base:t,Name:t+"-name",Arrow:t+"-arrow",Active:t+"-active"}},Dropdown:{Base:a,Arrow:a+"-arrow",Loading:{Animation:a+"-loading-animation"},SignIn:{Base:c,Form:c+"-form",Wrapper:c+"-wrapper"},Account:{Base:a+" -account-dropdown"},Notifications:{Base:a+" -notification-dropdown",NotificationSection:"-notification-section",UpcomingAppointmentSection:"-upcoming-appointment-section",Unseen:{Base:p,Highlight:p+"-highlight",Animation:p+"-animation"}}}},n.Events={Notifications:{Seen:"seen"},SignIn:{Success:"signedin",Pending:"pending"},Render:"render"},n.NotificationType={ZocDocMessage:1,AppointmentConfirmed:2,AppointmentRescheduled:3,AppointmentCancelled:4,AppointmentInfoNeeded:5,AppointmentCheckIn:6,AppointmentFeedback:7,WellnessRecommendation:8},n.Templates={Dropdown:{Account:"AccountDropdown",Notifications:"NotificationDropdown",SignIn:"SignInForm"},Loading:"LoadingAnimation",Notification:"Notification",UpcomingAppointment:"UpcomingAppointment"}}(ZD.module("notifications-dropdown"));
;!function(i,n,o){i.SignInFormDropdownView=Backbone.View.extend({render:function(){var o;return this.$el.html(this.template.render(this.model.toJSON(),this.partials)),this.inDom&&this.positionDropdown(),this.model.get("ShowSignInForm")?(this.$el.addClass(i.Classes.Dropdown.SignIn.Base),this.$signIn&&(o=this.$signIn.clone(),this.$("."+i.Classes.Dropdown.SignIn.Wrapper).html(o),this.$signIn.remove(),this.$signIn=o),this._initializeSignInForm()):this.model.get("ShowLoading")?this.$el.addClass(i.Classes.Dropdown.SignIn.Base):(this.$el.removeClass(i.Classes.Dropdown.SignIn.Base),this.trigger(i.Events.Render)),this.toggleView.once(n.Events.Dropdown.Show,function(){this.inDom=!0,this.positionDropdown()},this),this.toggleView.once(n.Events.Dropdown.Hide,function(){this.inDom=!1},this),this},_initializeSignInForm:function(){this.$animation=this.$("."+i.Classes.Dropdown.Loading.Animation),this.form=new n.FormView({el:this.$("."+i.Classes.Dropdown.SignIn.Form),showDialogs:!1,canRedirect:!1}),this.form.model.on(n.Events.Form.Pending,this.onPending,this),this.form.model.on(n.Events.Form.Error,this.onError,this),this.form.model.on(n.Events.Form.Success,this.onSuccess,this),this.form.model.on(n.Events.Form.Success,function(){this.trigger(i.Events.SignIn.Success),this.loadAutoRedirect()},this)},onPending:function(){this.$animation.show(),this.trigger(i.Events.SignIn.Pending)},onError:function(){this.$animation.hide()},setDropdownPosition:function(i){this.$el.css("right",i+"px")},setArrowPosition:function(n){this.$("."+i.Classes.Dropdown.Arrow).css("right",n+"px")},loadAutoRedirect:function(){var i=ZD.module("auth");i.HasLoadedRedirectView||$.when(AssetManager.loadBundles("core-patient-logged-in.js.bundle")).done(function(){new i.AutoRedirectView({model:new i.AutoRedirect})})}})}(ZD.module("notifications-dropdown"),ZD.module("ui"));
;(function(){this.JST=this.JST||{},this.JST.AccountDropdown=new this.Hogan.Template({code:function(n,r,o){var i=this;return i.b(o=o||""),i.b('<div class="-header-account-bar-dropdown-arrow"></div>\r'),i.b("\n"+o),i.b('<div class="-header-account-bar-dropdown-content" data-test="account-dropdown">\r'),i.b("\n"+o),i.s(i.f("ShowSignInForm",n,r,1),n,r,0,160,558,"{{ }}")&&(i.rs(n,r,function(n,r,i){i.b(i.rp("Loading",n,r,"        ")),i.b('        <div class="-signin-section" data-test="account-dropdown-signin">\r'),i.b("\n"+o),i.b('            <div class="-header-account-bar-dropdown-header sg-title">\r'),i.b("\n"+o),i.b("                "),i.s(i.f("i18n",n,r,1),n,r,0,357,419,"{{ }}")&&(i.rs(n,r,function(n,r,o){o.b("MyAccounts.PatientNotifications.Dropdown.SignInToAccessAccount")}),n.pop()),i.b("\r"),i.b("\n"+o),i.b("            </div>\r"),i.b("\n"+o),i.s(i.f("SignInForm",n,r,1),n,r,0,477,521,"{{ }}")&&(i.rs(n,r,function(n,r,o){o.b(o.rp("SignIn",n,r,"                "))}),n.pop()),i.b("        </div>\r"),i.b("\n")}),n.pop()),i.s(i.f("ShowLinks",n,r,1),n,r,0,597,1656,"{{ }}")&&(i.rs(n,r,function(n,r,i){i.b('        <div class="-account-dropdown-section -account-links-section" data-test="account-dropdown-links">\r'),i.b("\n"+o),i.s(i.f("Links",n,r,1),n,r,0,728,1624,"{{ }}")&&(i.rs(n,r,function(n,r,i){i.b('                <div class="-header-account-bar-dropdown-item">\r'),i.b("\n"+o),i.s(i.f("IsDivider",n,r,1),n,r,0,829,938,"{{ }}")&&(i.rs(n,r,function(n,r,o){o.b('                        <div class="-header-account-bar-dropdown-item-divider"></div>\r'),o.b("\n")}),n.pop()),i.s(i.f("IsDivider",n,r,1),n,r,1,0,0,"")||(i.s(i.f("IsFirst",n,r,1),n,r,1,0,0,"")||(i.b('                            <div class="-header-account-bar-dropdown-item-border-wrapper">\r'),i.b("\n"+o),i.b('                                <div class="-header-account-bar-dropdown-item-border"></div>\r'),i.b("\n"+o),i.b("                            </div>\r"),i.b("\n")),i.b('                        <a class="-header-account-bar-dropdown-item-content -account-link"\r'),i.b("\n"+o),i.b('                            href="'),i.b(i.v(i.f("Url",n,r,0))),i.b('"\r'),i.b("\n"+o),i.b('                            data-test="'),i.b(i.v(i.f("TestAttribute",n,r,0))),i.b('">\r'),i.b("\n"+o),i.b("                            "),i.b(i.v(i.f("Name",n,r,0))),i.b("\r"),i.b("\n"+o),i.b("                        </a>\r"),i.b("\n")),i.b("                </div>\r"),i.b("\n")}),n.pop()),i.b("        </div>\r"),i.b("\n")}),n.pop()),i.b("</div>"),i.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.LoadingAnimation=new this.Hogan.Template({code:function(n,i,a){var o=this;return o.b(a=a||""),o.b('<div class="-header-account-bar-dropdown-loading-animation" '),o.s(o.f("ShowSignInForm",n,i,1),n,i,0,79,101,"{{ }}")&&(o.rs(n,i,function(n,i,a){a.b('style="display: none;"')}),n.pop()),o.b("></div>"),o.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.Notification=new this.Hogan.Template({code:function(i,b,n){var t=this;return t.b(n=n||""),t.b('<div class="-header-account-bar-dropdown-item -notification'),t.s(t.f("Seen",i,b,1),i,b,1,0,0,"")||t.b(" -notification-unseen"),t.b('"\r'),t.b("\n"+n),t.b('     data-id="'),t.b(t.v(t.f("NotificationId",i,b,0))),t.b('"\r'),t.b("\n"+n),t.b('     data-type="'),t.b(t.v(t.f("Type",i,b,0))),t.b('"\r'),t.b("\n"+n),t.b('     data-typeid="'),t.b(t.v(t.f("TypeId",i,b,0))),t.b('"\r'),t.b("\n"+n),t.b("     "),t.s(t.f("RequestId",i,b,1),i,b,0,213,243,"{{ }}")&&(t.rs(i,b,function(i,b,n){n.b('data-requestid="'),n.b(n.v(n.f("RequestId",i,b,0))),n.b('"')}),i.pop()),t.b("\r"),t.b("\n"+n),t.b("     "),t.s(t.f("ProfessionalId",i,b,1),i,b,0,283,323,"{{ }}")&&(t.rs(i,b,function(i,b,n){n.b('data-professionalid="'),n.b(n.v(n.f("ProfessionalId",i,b,0))),n.b('"')}),i.pop()),t.b("\r"),t.b("\n"+n),t.b('     data-test="notification">\r'),t.b("\n"+n),t.b('    <div class="-header-account-bar-dropdown-item-border-wrapper">\r'),t.b("\n"+n),t.b('        <div class="-header-account-bar-dropdown-item-border"></div>\r'),t.b("\n"+n),t.b("    </div>\r"),t.b("\n"+n),t.b("    <"),t.s(t.f("Url",i,b,1),i,b,0,539,540,"{{ }}")&&(t.rs(i,b,function(i,b,n){n.b("a")}),i.pop()),t.s(t.f("Url",i,b,1),i,b,1,0,0,"")||t.b("div"),t.b(' class="-header-account-bar-dropdown-item-content '),t.s(t.f("HasAction",i,b,1),i,b,1,0,0,"")||t.b(" -simple"),t.b('"\r'),t.b("\n"+n),t.b("        "),t.s(t.f("Url",i,b,1),i,b,0,672,686,"{{ }}")&&(t.rs(i,b,function(i,b,n){n.b('href="'),n.b(n.v(n.f("Url",i,b,0))),n.b('"')}),i.pop()),t.b(">\r"),t.b("\n"+n),t.b('        <div class="-notification-left">\r'),t.b("\n"+n),t.b('            <div class="-notification-icon -notification-icon-'),t.b(t.v(t.f("Type",i,b,0))),t.b('"></div>\r'),t.b("\n"+n),t.b("        </div>\r"),t.b("\n"+n),t.b('        <div class="-notification-right">\r'),t.b("\n"+n),t.s(t.f("Title",i,b,1),i,b,0,900,991,"{{ }}")&&(t.rs(i,b,function(i,b,n){n.b('                <div class="-notification-title sg-para4">'),n.b(n.t(n.f("Title",i,b,0))),n.b("</div>\r"),n.b("\n")}),i.pop()),t.b('            <div class="-notification-text sg-para4">'),t.b(t.t(t.f("Text",i,b,0))),t.b("</div>\r"),t.b("\n"+n),t.b('            <div class="-notification-date sg-para5">'),t.b(t.v(t.f("Date",i,b,0))),t.b("</div>\r"),t.b("\n"+n),t.b("        </div>\r"),t.b("\n"+n),t.b("    </"),t.s(t.f("Url",i,b,1),i,b,0,1173,1174,"{{ }}")&&(t.rs(i,b,function(i,b,n){n.b("a")}),i.pop()),t.s(t.f("Url",i,b,1),i,b,1,0,0,"")||t.b("div"),t.b(">\r"),t.b("\n"+n),t.b("</div>"),t.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.NotificationDropdown=new this.Hogan.Template({code:function(n,i,o){var t=this;return t.b(o=o||""),t.b('<div class="-header-account-bar-dropdown-arrow"></div>\r'),t.b("\n"+o),t.b('<div class="-header-account-bar-dropdown-content" data-test="notification-dropdown">\r'),t.b("\n"+o),t.s(t.f("ShowLoading",n,i,1),n,i,0,162,296,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b(o.rp("Loading",n,i,"        ")),o.b('        <div class="-header-account-bar-dropdown-loading">'),o.s(o.f("i18n",n,i,1),n,i,0,254,275,"{{ }}")&&(o.rs(n,i,function(n,i,o){o.b("Plugin_Browse.Loading")}),n.pop()),o.b("</div>\r"),o.b("\n")}),n.pop()),t.s(t.f("ShowSignInForm",n,i,1),n,i,0,337,744,"{{ }}")&&(t.rs(n,i,function(n,i,t){t.b(t.rp("Loading",n,i,"        ")),t.b('        <div class="-signin-section" data-test="notification-dropdown-signin">\r'),t.b("\n"+o),t.b('            <div class="-header-account-bar-dropdown-header sg-title">\r'),t.b("\n"+o),t.b("                "),t.s(t.f("i18n",n,i,1),n,i,0,539,605,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b("MyAccounts.PatientNotifications.Dropdown.SignInToViewNotifications")}),n.pop()),t.b("\r"),t.b("\n"+o),t.b("            </div>\r"),t.b("\n"+o),t.s(t.f("SignInForm",n,i,1),n,i,0,663,707,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b(o.rp("SignIn",n,i,"                "))}),n.pop()),t.b("        </div>\r"),t.b("\n")}),n.pop()),t.s(t.f("ShowUpcomingAppointments",n,i,1),n,i,0,798,2094,"{{ }}")&&(t.rs(n,i,function(n,i,t){t.b('        <div class="-notification-dropdown-section -upcoming-appointment-section"\r'),t.b("\n"+o),t.b('             data-test="notification-dropdown-appointments">\r'),t.b("\n"+o),t.b('            <div class="-header-account-bar-dropdown-header sg-title">\r'),t.b("\n"+o),t.b("                "),t.s(t.f("i18n",n,i,1),n,i,0,1042,1103,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b("MyAccounts.PatientNotifications.Dropdown.UpcomingAppointments")}),n.pop()),t.b("\r"),t.b("\n"+o),t.b("            </div>\r"),t.b("\n"+o),t.s(t.f("UpcomingAppointments",n,i,1),n,i,0,1171,1220,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b(o.rp("Appointment",n,i,"                "))}),n.pop()),t.s(t.f("ShowUpcomingAppointmentsLink",n,i,1),n,i,0,1292,2039,"{{ }}")&&(t.rs(n,i,function(n,i,t){t.b('                <div class="-header-account-bar-dropdown-item">\r'),t.b("\n"+o),t.b('                    <div class="-header-account-bar-dropdown-item-border-wrapper">\r'),t.b("\n"+o),t.b('                        <div class="-header-account-bar-dropdown-item-border"></div>\r'),t.b("\n"+o),t.b("                    </div>\r"),t.b("\n"+o),t.b('                    <div class="-header-account-bar-dropdown-item-content -simple">\r'),t.b("\n"+o),t.b('                        <a class="-notification-dropdown-section-link" href="'),t.b(t.v(t.f("UpcomingAppointmentsUrl",n,i,0))),t.b('"\r'),t.b("\n"+o),t.b('                           data-test="notification-dropdown-appointments-link">\r'),t.b("\n"+o),t.b("                            "),t.s(t.f("i18n",n,i,1),n,i,0,1867,1934,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b("MyAccounts.PatientNotifications.Dropdown.SeeAllUpcomingAppointments")}),n.pop()),t.b("\r"),t.b("\n"+o),t.b("                        </a>\r"),t.b("\n"+o),t.b("                    </div>\r"),t.b("\n"+o),t.b("                </div>\r"),t.b("\n")}),n.pop()),t.b("        </div>\r"),t.b("\n")}),n.pop()),t.s(t.f("ShowNotifications",n,i,1),n,i,0,2151,4013,"{{ }}")&&(t.rs(n,i,function(n,i,t){t.b('        <div class="-notification-dropdown-section -last-section -notification-section"\r'),t.b("\n"+o),t.b('             data-test="notification-dropdown-notifications">\r'),t.b("\n"+o),t.b('            <div class="-header-account-bar-dropdown-header sg-title">\r'),t.b("\n"+o),t.b("                "),t.s(t.f("i18n",n,i,1),n,i,0,2402,2456,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b("MyAccounts.PatientNotifications.Dropdown.Notifications")}),n.pop()),t.b("\r"),t.b("\n"+o),t.b("            </div>\r"),t.b("\n"+o),t.s(t.f("AnyUnseenNotifications",n,i,1),n,i,0,2526,3056,"{{ }}")&&(t.rs(n,i,function(n,i,t){t.b('                <div class="-unseen-notifications" data-test="notification-dropdown-unseen-notifications">\r'),t.b("\n"+o),t.b('                    <div class="-unseen-notifications-highlight" data-test="notification-dropdown-unseen-highlight"></div>\r'),t.b("\n"+o),t.b('                    <div class="-unseen-notifications-animation" data-test="notification-dropdown-unseen-animation"></div>\r'),t.b("\n"+o),t.s(t.f("UnseenNotifications",n,i,1),n,i,0,2928,2994,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b(o.rp("Notification",n,i,"                        "))}),n.pop()),t.b("                </div>\r"),t.b("\n")}),n.pop()),t.s(t.f("SeenNotifications",n,i,1),n,i,0,3119,3169,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b(o.rp("Notification",n,i,"                "))}),n.pop()),t.s(t.f("ShowNotificationsLink",n,i,1),n,i,0,3231,3965,"{{ }}")&&(t.rs(n,i,function(n,i,t){t.b('                <div class="-header-account-bar-dropdown-item">\r'),t.b("\n"+o),t.b('                    <div class="-header-account-bar-dropdown-item-border-wrapper">\r'),t.b("\n"+o),t.b('                        <div class="-header-account-bar-dropdown-item-border"></div>\r'),t.b("\n"+o),t.b("                    </div>\r"),t.b("\n"+o),t.b('                    <div class="-header-account-bar-dropdown-item-content -simple">\r'),t.b("\n"+o),t.b('                        <a class="-notification-dropdown-section-link" href="'),t.b(t.v(t.f("NotificationsUrl",n,i,0))),t.b('"\r'),t.b("\n"+o),t.b('                           data-test="notification-dropdown-notifications-link">\r'),t.b("\n"+o),t.b("                            "),t.s(t.f("i18n",n,i,1),n,i,0,3800,3860,"{{ }}")&&(t.rs(n,i,function(n,i,o){o.b("MyAccounts.PatientNotifications.Dropdown.SeeAllNotifications")}),n.pop()),t.b("\r"),t.b("\n"+o),t.b("                        </a>\r"),t.b("\n"+o),t.b("                    </div>\r"),t.b("\n"+o),t.b("                </div>\r"),t.b("\n")}),n.pop()),t.b("        </div>\r"),t.b("\n")}),n.pop()),t.b("</div>\r"),t.b("\n"),t.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.SignInForm=new this.Hogan.Template({code:function(n,r,b){var o=this;return o.b(b=b||""),o.b('<div class="-header-account-bar-dropdown-signin-wrapper">\r'),o.b("\n"+b),o.b('    <form action="'),o.b(o.v(o.f("FormAction",n,r,0))),o.b('" class="sg-form -form -header-account-bar-dropdown-signin-form" method="post">\r'),o.b("\n"+b),o.b('        <div class="-form-row-set">\r'),o.b("\n"+b),o.b('            <div class="sg-form-row -form-row">\r'),o.b("\n"+b),o.b('                <div class="-form-input-set -one-element">\r'),o.b("\n"+b),o.b('                    <div class="-form-input">\r'),o.b("\n"+b),o.b('                        <label class="sg-label -label" for="SignInForm_Email">'),o.s(o.f("i18n",n,r,1),n,r,0,452,472,"{{ }}")&&(o.rs(n,r,function(n,r,b){b.b("Shared.General.Email")}),n.pop()),o.b("</label>\r"),o.b("\n"+b),o.b('                        <input class="sg-textbox -textbox sg-fluid" id="SignInForm_Email" name="SignInForm.Email"\r'),o.b("\n"+b),o.b('                               placeholder="'),o.s(o.f("i18n",n,r,1),n,r,0,659,686,"{{ }}")&&(o.rs(n,r,function(n,r,b){b.b("Shared.General.EmailAddress")}),n.pop()),o.b('" type="text"\r'),o.b("\n"+b),o.b('                               data-test="signin-dropdown-email">\r'),o.b("\n"+b),o.b("                    </div>\r"),o.b("\n"+b),o.b("                </div>\r"),o.b("\n"+b),o.b("            </div>\r"),o.b("\n"+b),o.b('            <div class="sg-form-row -form-row -password-row">\r'),o.b("\n"+b),o.b('                <div class="-form-input-set -one-element">\r'),o.b("\n"+b),o.b('                    <div class="-form-input">\r'),o.b("\n"+b),o.b('                        <label class="sg-label -label" for="SignInForm_Password">'),o.s(o.f("i18n",n,r,1),n,r,0,1109,1132,"{{ }}")&&(o.rs(n,r,function(n,r,b){b.b("Shared.General.Password")}),n.pop()),o.b("</label>\r"),o.b("\n"+b),o.b('                        <input class="sg-textbox -textbox sg-fluid" id="SignInForm_Password" name="SignInForm.Password"\r'),o.b("\n"+b),o.b('                               placeholder="'),o.s(o.f("i18n",n,r,1),n,r,0,1325,1348,"{{ }}")&&(o.rs(n,r,function(n,r,b){b.b("Shared.General.Password")}),n.pop()),o.b('" type="password"\r'),o.b("\n"+b),o.b('                               data-test="signin-dropdown-password">\r'),o.b("\n"+b),o.b('                        <a class="sg-a -form-link forgot-password" href="'),o.b(o.v(o.f("ForgotPasswordUrl",n,r,0))),o.b('" target="_blank"\r'),o.b("\n"+b),o.b('                           data-test="signin-dropdown-forgot-password">\r'),o.b("\n"+b),o.b("                            "),o.s(o.f("i18n",n,r,1),n,r,0,1669,1710,"{{ }}")&&(o.rs(n,r,function(n,r,b){b.b("Shared.General.ForgotYourPasswordQuestion")}),n.pop()),o.b("\r"),o.b("\n"+b),o.b("                        </a>\r"),o.b("\n"+b),o.b("                    </div>\r"),o.b("\n"+b),o.b("                </div>\r"),o.b("\n"+b),o.b("            </div>\r"),o.b("\n"+b),o.b("        </div>\r"),o.b("\n"+b),o.b('        <input id="SignInForm_SignInFormViewModel" name="SignInForm.SignInFormViewModel" type="hidden">\r'),o.b("\n"+b),o.b('        <div class="-form-button">\r'),o.b("\n"+b),o.b('            <input type="submit" id="SignInButton" name="SignInButton" value="'),o.s(o.f("i18n",n,r,1),n,r,0,2067,2088,"{{ }}")&&(o.rs(n,r,function(n,r,b){b.b("Shared.General.SignIn")}),n.pop()),o.b('"\r'),o.b("\n"+b),o.b('                   role="button" class="sg-btn-booking sg-btn sg-btn-med sg-fluid" data-test="signin-dropdown-button">\r'),o.b("\n"+b),o.b("        </div>\r"),o.b("\n"+b),o.b("    </form>\r"),o.b("\n"+b),o.b("</div>"),o.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.UpcomingAppointment=new this.Hogan.Template({code:function(n,t,b){var o=this;return o.b(b=b||""),o.b('<div class="-header-account-bar-dropdown-item -upcoming-appointment" data-requestid="'),o.b(o.v(o.f("RequestId",n,t,0))),o.b('"\r'),o.b("\n"+b),o.b('     data-professionalid="'),o.b(o.v(o.f("ProfessionalId",n,t,0))),o.b('" data-test="appointment">\r'),o.b("\n"+b),o.b('    <div class="-header-account-bar-dropdown-item-border-wrapper">\r'),o.b("\n"+b),o.b('        <div class="-header-account-bar-dropdown-item-border"></div>\r'),o.b("\n"+b),o.b("    </div>\r"),o.b("\n"+b),o.b('    <div class="-header-account-bar-dropdown-item-content">\r'),o.b("\n"+b),o.b('        <div class="-upcoming-appointment-left">\r'),o.b("\n"+b),o.b('            <div class="-upcoming-appointment-photo-wrapper">\r'),o.b("\n"+b),o.b('                <img class="-upcoming-appointment-photo" src="'),o.b(o.v(o.f("ProfilePhotoUrl",n,t,0))),o.b('" alt="'),o.b(o.v(o.f("DoctorName",n,t,0))),o.b('" />\r'),o.b("\n"+b),o.b("            </div>\r"),o.b("\n"+b),o.b("        </div>\r"),o.b("\n"+b),o.b('        <div class="-upcoming-appointment-right">\r'),o.b("\n"+b),o.b('            <div class="-upcoming-appointment-doctor sg-title">\r'),o.b("\n"+b),o.b('                <span class="-upcoming-appointment-doctor-name">'),o.b(o.v(o.f("DoctorName",n,t,0))),o.b("</span>\r"),o.b("\n"+b),o.b('                <span class="-upcoming-appointment-doctor-suffix">'),o.b(o.v(o.f("DoctorSuffix",n,t,0))),o.b("</span>\r"),o.b("\n"+b),o.b("            </div>\r"),o.b("\n"+b),o.b('            <div class="-upcoming-appointment-date sg-para4">\r'),o.b("\n"+b),o.b("                "),o.b(o.v(o.f("Date",n,t,0))),o.b("\r"),o.b("\n"+b),o.b("            </div>\r"),o.b("\n"+b),o.b("        </div>\r"),o.b("\n"+b),o.b("    </div>\r"),o.b("\n"+b),o.b("</div>"),o.fl()},partials:{},subs:{}})}).call(this);
;!function(i,n){i.AccountDropdownModel=Backbone.Model.extend({initialize:function(){var i,n=this.get("Links")||[],o=!1;if(n.length)for(i=0;i<n.length;i++)n[i].IsDivider?o=!0:((0==i||o)&&(n[i].IsFirst=!0),o=!1)}})}(ZD.module("notifications-dropdown"));
;!function(t,i){t.NotificationDropdownModel=Backbone.Model.extend({url:"/patient/loadnotifications",markNotificationsSeen:function(){var t,i,n,o=this.get("UnseenNotifications")||[];if(o.length){for(t=this.get("SeenNotifications")||[],i=[],n=0;n<o.length;n++)o[n].Seen=!0,i.push(o[n].NotificationId);this.set("SeenNotifications",_.union(o,t)),this.set("UnseenNotifications",null),this.set("UnseenNotificationCount",0),this.set("AnyUnseenNotifications",!1),$.ajax({url:"/patient/marknotificationsseen",type:"POST",traditional:!0,datatype:"json",data:{ids:i}})}}})}(ZD.module("notifications-dropdown"));
;!function(n,i){var o="-header-account-bar",e=o+"-notifications",t=o+"-account",a=o+"-dropdown",c=a+"-signin",p="-unseen-notifications";n.Classes={Base:o,Header:{Notifications:{Base:e,Icon:e+"-icon",Badge:e+"-badge",Active:e+"-active"},Account:{Base:t,Name:t+"-name",Arrow:t+"-arrow",Active:t+"-active"}},Dropdown:{Base:a,Arrow:a+"-arrow",Loading:{Animation:a+"-loading-animation"},SignIn:{Base:c,Form:c+"-form",Wrapper:c+"-wrapper"},Account:{Base:a+" -account-dropdown"},Notifications:{Base:a+" -notification-dropdown",NotificationSection:"-notification-section",UpcomingAppointmentSection:"-upcoming-appointment-section",Unseen:{Base:p,Highlight:p+"-highlight",Animation:p+"-animation"}}}},n.Events={Notifications:{Seen:"seen"},SignIn:{Success:"signedin",Pending:"pending"},Render:"render"},n.NotificationType={ZocDocMessage:1,AppointmentConfirmed:2,AppointmentRescheduled:3,AppointmentCancelled:4,AppointmentInfoNeeded:5,AppointmentCheckIn:6,AppointmentFeedback:7,WellnessRecommendation:8},n.Templates={Dropdown:{Account:"AccountDropdown",Notifications:"NotificationDropdown",SignIn:"SignInForm"},Loading:"LoadingAnimation",Notification:"Notification",UpcomingAppointment:"UpcomingAppointment"}}(ZD.module("notifications-dropdown"));
;!function(n,o){var i=15,t=24,s=-234,e=128;n.AccountDropdownView=n.SignInFormDropdownView.extend({className:n.Classes.Dropdown.Account.Base,options:{leftOffset:0},initialize:function(){this.template=JST[n.Templates.Dropdown.Account],this.partials={SignIn:JST[n.Templates.Dropdown.SignIn],Loading:JST[n.Templates.Loading]}},positionDropdown:function(){var n=this.$el.parent(".js-no-arrow-dropdown").length>0;if(!n){var o=this.$el.position().left,r=i,a=t,p=s+this.options.leftOffset;o>p&&(a-=Math.round((p-o)/2)),a>e&&(r+=a-e,a=e),this.setArrowPosition(a),this.setDropdownPosition(r)}},onSuccess:function(){this.onSignIn(),this.render()},onSignIn:function(){this.model.set({ShowSignInForm:!1,ShowLinks:!0})}})}(ZD.module("notifications-dropdown"));
;!function(o,n,i){o.HeaderAccountBarView=Backbone.View.extend({options:{fadeOutDuration:500},initialize:function(){var n=this.$("."+o.Classes.Base).data("model"),i=this.$("."+o.Classes.Header.Notifications.Base);this.model=new Backbone.Model(n),i.length>0?(this._initializeNotificationDropdown(i),this._initializeAccountDropdown(i.outerWidth()),this._initializeEvents()):this._initializeAccountDropdown()},_initializeNotificationDropdown:function(i){var t=this.model.get("NotificationDropdown");this.notificationDropdown=new n.DropdownToggleView({el:i,dropdownView:new o.NotificationDropdownView({model:new o.NotificationDropdownModel(t),fadeOutDuration:this.options.fadeOutDuration,$accountButton:this.$("."+o.Classes.Header.Account.Base)}),onClickClass:o.Classes.Header.Notifications.Active,altElements:this._getAltElements(o.Classes.Header.Notifications.Icon,o.Classes.Header.Notifications.Badge)}),Analytics.trackEvent("Desktop Notifications","Initialized")},_initializeAccountDropdown:function(i){this.accountDropdown=new n.DropdownToggleView({el:this.$("."+o.Classes.Header.Account.Base),dropdownView:new o.AccountDropdownView({model:new o.AccountDropdownModel(this.model.get("AccountDropdown")),leftOffset:i||0}),onClickClass:o.Classes.Header.Account.Active,altElements:this._getAltElements(o.Classes.Header.Account.Name,o.Classes.Header.Account.Arrow)})},_initializeEvents:function(){var i,t,e=this,s=[e.accountDropdown];for(e.notificationDropdown&&(s.push(e.notificationDropdown),e.notificationDropdown.dropdownView.on(o.Events.Notifications.Seen,e._clearBadge,e)),i=0;i<s.length;i++)for(s[i].on(n.Events.Dropdown.Show,function(){var n,i;for(this.model.get("ShowSignInForm")&&(n=this.$("."+o.Classes.Dropdown.SignIn.Form)),i=0;i<s.length;i++)s[i].dropdownView.$signIn=n},s[i].dropdownView),t=0;t<s.length;t++)i!=t&&s[i].dropdownView.on(o.Events.SignIn.Success,s[t].dropdownView.onSignIn,s[t].dropdownView)},_clearBadge:function(){var n,i=this;i.notificationDropdown.dropdownView.off(o.Events.Notifications.Seen,i._clearBadge,i),i.model.get("Count")>0&&(n=i.$("."+o.Classes.Header.Notifications.Badge),n.length&&n.fadeOut(i.options.fadeOutDuration))},_getAltElements:function(){var o;return o=_.map(arguments,function(o){return this.$("."+o)[0]},this)}})}(ZD.module("notifications-dropdown"),ZD.module("ui"));
;!function(i,n){var t=-112,o=127,e=85;i.NotificationDropdownView=i.SignInFormDropdownView.extend({className:i.Classes.Dropdown.Notifications.Base,options:{animationDuration:1500,highlightDuration:1e3,fadeOutDuration:250},initialize:function(){_.bindAll(this,"render","_clearNotificationAnimation","_clearNotificationHighlight"),this.template=JST[i.Templates.Dropdown.Notifications],this.partials={Appointment:JST[i.Templates.UpcomingAppointment],Notification:JST[i.Templates.Notification],SignIn:JST[i.Templates.Dropdown.SignIn],Loading:JST[i.Templates.Loading]},this.hasClearedUnseen=!1,this.once(i.Events.Render,this.clearUnseenNotifications,this)},render:function(){return i.SignInFormDropdownView.prototype.render.call(this),this.model.get("ShowNotifications")&&(new i.UpcomingAppointmentsView({el:this.$("."+i.Classes.Dropdown.Notifications.UpcomingAppointmentSection)}),new i.NotificationsView({el:this.$("."+i.Classes.Dropdown.Notifications.NotificationSection)}),Analytics.trackEvent("Desktop Notifications","Open")),this},positionDropdown:function(){var i=this.$el.parent(".js-no-arrow-dropdown").length>0;if(!i){var n,s=this.options.$accountButton.width(),a=t,r=o;e>s&&(n=e-s,a+=n,r-=n),this.setArrowPosition(r),this.setDropdownPosition(a)}},onSuccess:function(){$.when(this.onSignIn()).done(this.render)},onSignIn:function(){return _.isUndefined(this.signInRequest)?(this.model.set({ShowLoading:!0,ShowSignInForm:!1}),this.signInRequest=this.model.fetch({type:"POST"}),this.signInRequest):this.signInRequest},clearUnseenNotifications:function(){var n=this;n.model.get("ShowNotifications")&&(n.hasClearedUnseen?n.trigger(i.Events.Notifications.Seen):(setTimeout(function(){$.when(n._clearNotificationAnimation()).done(function(){setTimeout(n._clearNotificationHighlight,n.options.highlightDuration)})},n.options.animationDuration),n.model.markNotificationsSeen(),n.hasClearedUnseen=!0))},_clearNotificationAnimation:function(){var n=this.$("."+i.Classes.Dropdown.Notifications.Unseen.Animation);return n.fadeOut(this.options.fadeOutDuration)},_clearNotificationHighlight:function(){var n=this.$("."+i.Classes.Dropdown.Notifications.Unseen.Base),t=n.find("."+i.Classes.Dropdown.Notifications.Unseen.Highlight);t.fadeOut(this.options.fadeOutDuration,function(){n.removeClass(i.Classes.Dropdown.Notifications.Unseen.Base)}),this.trigger(i.Events.Notifications.Seen)}})}(ZD.module("notifications-dropdown"));
;!function(i,t,n){i.NotificationsView=Backbone.View.extend({events:{"click .-notification":"click"},initialize:function(){_.bindAll(this,"click")},click:function(t){var n=$(t.currentTarget).data();switch(n.typeid){case i.NotificationType.AppointmentConfirmed:case i.NotificationType.AppointmentRescheduled:case i.NotificationType.AppointmentCancelled:window.location="/patient/medicalteam"}}})}(ZD.module("notifications-dropdown"),ZD.module("myaccount-modals"));
;!function(i,n,t){i.UpcomingAppointmentsView=Backbone.View.extend({events:{"click .-upcoming-appointment":"click"},initialize:function(){_.bindAll(this,"click")},click:function(i){Analytics.trackEvent("Desktop Notifications","Appointment Click"),window.location="/patient/medicalteam"}})}(ZD.module("notifications-dropdown"),ZD.module("myaccount-modals"));
;(function(){this.JST=this.JST||{},this.JST.autoredirectedmodal=new this.Hogan.Template({code:function(b,n,t){var r=this;return r.b(t=t||""),r.b('<div class="-dialog-padder AutoRedirect" data-test="auto-redirected-modal">\r'),r.b("\n"+t),r.b("\r"),r.b("\n"+t),r.b('    <img class="doctorIllustration" src="/images/views/auth/autoredirect/auto-redirected.png" width="217" height="356" />\r'),r.b("\n"+t),r.b("\r"),r.b("\n"+t),r.b('    <div class="-dialog-name">\r'),r.b("\n"+t),r.b("        "),r.b(r.v(r.f("SignedOutTitle",b,n,0))),r.b("\r"),r.b("\n"+t),r.b("    </div>\r"),r.b("\n"+t),r.b('    <div class="-dialog-text">\r'),r.b("\n"+t),r.b("        "),r.b(r.t(r.f("SignedOutMessage",b,n,0))),r.b("\r"),r.b("\n"+t),r.b("    </div>\r"),r.b("\n"+t),r.b("\r"),r.b("\n"+t),r.b('    <a class="-button-primary btn-booking btn cancel" href="#">\r'),r.b("\n"+t),r.b("        <span>"),r.b(r.v(r.f("SignIn",b,n,0))),r.b("</span>\r"),r.b("\n"+t),r.b("    </a>\r"),r.b("\n"+t),r.b("\r"),r.b("\n"+t),r.b('    <div class="nopass"></div>\r'),r.b("\n"+t),r.b("</div>\r"),r.b("\n"+t),r.b("\r"),r.b("\n"),r.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.autoredirectwarningmodal=new this.Hogan.Template({code:function(n,t,r){var b=this;return b.b(r=r||""),b.b('<div class="-dialog-padder" data-test="auto-redirect-warning-modal">\r'),b.b("\n"+r),b.b("\r"),b.b("\n"+r),b.b('    <img class="doctorIllustration warning" src="/images/views/auth/autoredirect/auto-redirect-warning-no-shadow.gif" width="181" height="361" />\r'),b.b("\n"+r),b.b("\r"),b.b("\n"+r),b.b('    <h1 class="sg-h1 -dialog-name">\r'),b.b("\n"+r),b.b("        "),b.s(b.f("i18n",n,t,1),n,t,0,277,307,"{{ }}")&&(b.rs(n,t,function(n,t,r){r.b("Auth_AutoRedirect.WarningTitle")}),n.pop()),b.b("\r"),b.b("\n"+r),b.b("    </h1>\r"),b.b("\n"+r),b.b('    <div class="sg-p sg-muted -dialog-text">\r'),b.b("\n"+r),b.b("        "),b.s(b.f("i18n",n,t,1),n,t,0,396,428,"{{ }}")&&(b.rs(n,t,function(n,t,r){r.b("Auth_AutoRedirect.WarningMessage")}),n.pop()),b.b("\r"),b.b("\n"+r),b.b("    </div>\r"),b.b("\n"+r),b.b("\r"),b.b("\n"+r),b.b('    <a class="-button-primary sg-btn-booking sg-btn cancel" href="#" data-test="touch-session-button">\r'),b.b("\n"+r),b.b("        <span>"),b.s(b.f("i18n",n,t,1),n,t,0,584,608,"{{ }}")&&(b.rs(n,t,function(n,t,r){r.b("Auth_AutoRedirect.ImHere")}),n.pop()),b.b("</span>\r"),b.b("\n"+r),b.b("    </a>\r"),b.b("\n"+r),b.b("\r"),b.b("\n"+r),b.b('    <div class="nopass"></div>\r'),b.b("\n"+r),b.b("</div>\r"),b.b("\n"+r),b.b("\r"),b.b("\n"),b.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.duologin=new this.Hogan.Template({code:function(i,t,e){var n=this;return n.b(e=e||""),n.b('<div class="DuoLogin" style="display:none;">\r'),n.b("\n"+e),n.b('    <iframe id="duo_iframe" width="100%" height="500" frameborder="0"></iframe>\r'),n.b("\n"+e),n.b("</div>"),n.fl()},partials:{},subs:{}})}).call(this);
;(function(){this.JST=this.JST||{},this.JST.signin=new this.Hogan.Template({code:function(a,n,i){var t=this;return t.b(i=i||""),t.b('<div class="-dialog-close cancel"></div>\r'),t.b("\n"+i),t.b('<form method="post" class="-form" action="'),t.b(t.v(t.f("action",a,n,0))),t.b('">\r'),t.b("\n"+i),t.b('    <div class="-form-name">Sign In</div>\r'),t.b("\n"+i),t.b('    <div class="-form-row-set">\r'),t.b("\n"+i),t.b('        <div class="-form-row">\r'),t.b("\n"+i),t.b('            <div class="-form-input-set">\r'),t.b("\n"+i),t.b('                <div class="-form-input">\r'),t.b("\n"+i),t.b('                    <label for="SignInForm_Email" class="-label">Email</label>\r'),t.b("\n"+i),t.b('                    <input type="text" value="" name="SignInForm.Email" id="SignInForm_Email" data-val-required="Please type an email." data-val-regex-pattern="^(([A-Za-z0-9]+_+)|([A-Za-z0-9]+\\-+)|([A-Za-z0-9]+\\.+)|([A-Za-z0-9]+\\++))*[A-Za-z0-9]+@((\\w+\\-+)|(\\w+\\.))*\\w{1,63}\\.[a-zA-Z]{2,6}$" data-val-regex="Please type a valid email." data-val-length-max="255" data-val-length="The field Email must be a string with a maximum length of 255." data-val="true" class="-textbox" autocomplete="off" data-test="signin-email" />\r'),t.b("\n"+i),t.b("                </div>\r"),t.b("\n"+i),t.b("            </div>\r"),t.b("\n"+i),t.b('            <span data-valmsg-replace="true" data-valmsg-for="SignInForm.Email" class="field-validation-valid -validation -validation-sync"></span>\r'),t.b("\n"+i),t.b('            <span class="-validation"></span>\r'),t.b("\n"+i),t.b("        </div>\r"),t.b("\n"+i),t.b('        <div class="-form-row">\r'),t.b("\n"+i),t.b('            <div class="-form-input-set">\r'),t.b("\n"+i),t.b('                <div class="-form-input">\r'),t.b("\n"+i),t.b('                    <label for="SignInForm_Password" class="-label">Password</label>\r'),t.b("\n"+i),t.b('                    <input type="password" name="SignInForm.Password" id="SignInForm_Password" data-val-required="Please type your password." data-val-regex-pattern=".{6,}" data-val-regex="Please type a longer password." data-val-length-max="255" data-val-length="The field Password must be a string with a maximum length of 255." data-val="true" class="-textbox" autocomplete="off" data-test="signin-password" />\r'),t.b("\n"+i),t.b("                </div>\r"),t.b("\n"+i),t.b("            </div>\r"),t.b("\n"+i),t.b('            <a target="_blank" href="/auth/ForgotPassword" class="-form-link emailQS" data-test="signin-forgot-password">Forgot your password?</a>\r'),t.b("\n"+i),t.b('            <span data-valmsg-replace="true" data-valmsg-for="SignInForm.Password" class="field-validation-valid -validation -validation-sync"></span>\r'),t.b("\n"+i),t.b('            <span class="-validation"></span>\r'),t.b("\n"+i),t.b("        </div>\r"),t.b("\n"+i),t.b("    </div>\r"),t.b("\n"+i),t.b('    <input type="hidden" value="'),t.b(t.v(t.f("returnUrl",a,n,0))),t.b('" name="SignInForm.ReturnUrl" id="SignInForm_ReturnUrl" />\r'),t.b("\n"+i),t.b('    <input type="hidden" value="'),t.b(t.v(t.f("isSignInLink",a,n,0))),t.b('" name="SignInForm.IsSignInLink" id="SignInForm_IsSignInLink" />\r'),t.b("\n"+i),t.b('    <input type="hidden" value="" name="SignInForm.SignInFormViewModel" id="SignInForm_SignInFormViewModel" />\r'),t.b("\n"+i),t.b('    <span class="-button-primary">\r'),t.b("\n"+i),t.b("        Sign In\r"),t.b("\n"+i),t.b('        <button id="SignInButton" name="SignInButton" type="submit" data-test="signin-button">Sign In</button>\r'),t.b("\n"+i),t.b("    </span>\r"),t.b("\n"+i),t.b("</form>\r"),t.b("\n"+i),t.b('<div class="join">\r'),t.b("\n"+i),t.b('    <div class="title">I\'m a new patient</div>\r'),t.b("\n"+i),t.b('    <span class="explanation">Sign up for a ZocDoc account<br />to book an appointment right now!</span>\r'),t.b("\n"+i),t.b('    <a href="/createuser/details" class="joinNowLink emailQS" data-test="signin-create-user">Join Now <span class="rightArrow"></span></a>\r'),t.b("\n"+i),t.b("</div>"),t.fl()},partials:{},subs:{}})}).call(this);
;!function(t){var e=3e3,i=1e3;t.AutoRedirect=Backbone.Model.extend({defaults:{Timeout:1800,Warning:120,jquery:$,IsWarning:!1,SourceController:null},initialize:function(){_.bindAll(this,"startSession","startWarning","redirect","checkSession","touchSession"),this.on("startSession",this.startSession),this.on("warning",this.startWarning),this.on("redirect",this.redirect),this.on("checkSession",this.checkSession),this.on("touchSession",this.touchSession)},startSession:function(){var t=this,n=t.get("Timeout")*i,r=t.get("Warning")*i;t.set("IsWarning",!1),t.clear(),t.timeout=setTimeout(function(){t.trigger("checkSession")},n-r+e)},startWarning:function(){var t=this,e=t.get("Warning")*i;t.set("IsWarning",!0),t.clear(),t.timeout=setTimeout(function(){t.trigger("checkSession")},e)},redirect:function(){window.location.href="/signin?returnUrl="+encodeURIComponent(location.pathname+location.search)+"&source=AutoSignout&"+this.getSourceControllerParam()},getSourceControllerParam:function(){return"sourceController="+this.get("SourceController")},checkSession:function(){var t=this,n=t.get("jquery").ajax({url:"/auth/checksession?"+this.getSourceControllerParam(),success:function(n){if(n.Redirect)return void t.trigger("redirect");if(n.Timeout){t.set("Timeout",n.Timeout);var r=t.get("Warning")*i,o=n.Timeout*i,s=t.get("IsWarning");r>o?s?(t.clear(),t.timeout=setTimeout(function(){t.trigger("checkSession")},o+e)):t.trigger("warning"):(t.trigger("sessionOk"),t.startSession())}}});return n},touchSession:function(){var t=this.get("jquery").ajax({url:"/auth/touchsession?"+this.getSourceControllerParam()}),e=this;return this.set("IsWarning",!1),t.done(function(t){t.Redirect?e.trigger("redirect"):(e.set("Timeout",t.Timeout),e.startSession())}),t},clear:function(){null!=this.timeout&&clearTimeout(this.timeout)},getNow:function(){return moment()}})}(ZD.module("auth"));
;!function(e,o,i){var t=ZD.module("ui");e.AutoRedirectDialogView=t.DialogView.extend({className:"AutoRedirect",close:function(e){var o=this;e.preventDefault(),o.modalView.remove(),o.options.touchSessionModel.trigger("touchSession")}})}(ZD.module("auth"),window);
;!function(e,o){var i=ZD.module("ui");e.AutoRedirectView=Backbone.View.extend({model:e.AutoRedirect,initialize:function(){var o=this;e.HasLoadedRedirectView=!0,o.model=o.model||new e.AutoRedirect;var i=new Image;i.src="/images/views/auth/autoredirect/auto-redirect-warning-no-shadow.gif",_.bindAll(o,"render","sessionOk"),o.model.trigger("startSession"),o.model.on("warning",o.render),o.model.on("sessionOk",o.sessionOk)},render:function(){var o=this;return o.modal=new i.ModalView({contentView:new e.AutoRedirectDialogView({touchSessionModel:o.model,templateName:"autoredirectwarningmodal"})}),document.body.appendChild(o.modal.render().el),o.modal.center(),o},sessionOk:function(){var e=this;e.modal&&e.modal.close()}})}(ZD.module("auth"),window);
;!function(i){var e=ZD.module("ui");i.FlowView=Backbone.View.extend({showView:function(i){var s;i.isVisible||(i.isInitialized||(s=i.$el.find("form").first().get(0),s&&new e.FormView({el:s}),i.isInitialized=!0),i.$el.css({display:"block"}),i.isVisible=!0)},hideView:function(i){i.isVisible&&(i.$el.css({display:"none"}),i.isVisible=!1)}})}(ZD.module("auth"));
;!function(o,e,n){var t=ZD.module("ui");o.LoginHover=Backbone.View.extend({options:{dropdownElement:".-login-dropdown",onClickClass:"-login-dropdown-clicked",altSelectors:[".-login-dropdown a",".-login-dropdown .-login-dropdown-arrow"],closersSelector:".dropdown a"},initialize:function(){var o=this,e=$(o.options.dropdownElement),i=e.length?JSON.parse(e.attr("data-elements")):n,l=[],s=[];$.each(o.options.altSelectors,function(o,e){s.push($(e)[0])}),"undefined"!=typeof i&&($.each(i,function(o,e){l.push({name:e.Name,text:e.Name,cssClass:e.Class,url:e.Url,isDivider:e.IsDivider,count:e.Count,test:e.TestAttribute})}),new t.DropdownToggleView({el:o.options.dropdownElement,dropdownView:new t.DropdownView({model:new t.Dropdown({items:l})}),altElements:s,onClickClass:o.options.onClickClass,closers:o.options.closersSelector}))}})}(ZD.module("auth"),window);
;!function(e,n,i){var t=n.$;e.MailCheck=Backbone.View.extend({initialize:function(){},events:{"blur #RegisterForm_Email":"RunMailCheck"},RunMailCheck:function(e){var n=this;t(e.target).mailcheck({suggested:function(i,a){var o=n.$el.find("#emailSuggestionContainer");o.css("display","");var l=n.$el.find("#emailSuggestion");l.html("<u>"+a.address+"@<b>"+a.domain+"</b></u>"),l.css("cursor","pointer"),l.click(function(){t(e.target).val(a.full),o.css("display","none")})},empty:function(e){var i=n.$el.find("#emailSuggestionContainer");i.css("display","none")}})}});var a={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(e){e.domains=e.domains||a.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||a.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||a.sift3Distance;var n=a.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction);n?e.suggested&&e.suggested(n):e.empty&&e.empty()},suggest:function(e,n,i,t){e=e.toLowerCase();var a=this.splitEmail(e),o=this.findClosestDomain(a.domain,n,t);if(o){if(o!=a.domain)return{address:a.address,domain:o,full:a.address+"@"+o}}else{var l=this.findClosestDomain(a.topLevelDomain,i);if(a.domain&&l&&l!=a.topLevelDomain){var s=a.domain;return o=s.substring(0,s.lastIndexOf(a.topLevelDomain))+l,{address:a.address,domain:o,full:a.address+"@"+o}}}return!1},findClosestDomain:function(e,n,i){var t,a=99,o=null;if(!e||!n)return!1;i||(i=this.sift3Distance);for(var l=0;l<n.length;l++){if(e===n[l])return e;t=i(e,n[l]),a>t&&(a=t,o=n[l])}return a<=this.threshold&&null!==o?o:!1},sift3Distance:function(e,n){if(null==e||0===e.length)return null==n||0===n.length?0:n.length;if(null==n||0===n.length)return e.length;for(var i=0,t=0,a=0,o=0,l=5;i+t<e.length&&i+a<n.length;){if(e.charAt(i+t)==n.charAt(i+a))o++;else{t=0,a=0;for(var s=0;l>s;s++){if(i+s<e.length&&e.charAt(i+s)==n.charAt(i)){t=s;break}if(i+s<n.length&&e.charAt(i)==n.charAt(i+s)){a=s;break}}}i++}return(e.length+n.length)/2-o},splitEmail:function(e){var n=e.split("@");if(n.length<2)return!1;for(var i=0;i<n.length;i++)if(""===n[i])return!1;var t=n.pop(),a=t.split("."),o="";if(0==a.length)return!1;if(1==a.length)o=a[0];else{for(var i=1;i<a.length;i++)o+=a[i]+".";a.length>=2&&(o=o.substring(0,o.length-1))}return{topLevelDomain:o,domain:t,address:n.join("@")}}}};n.jQuery&&!function(e){e.fn.mailcheck=function(e){var n=this;if(e.suggested){var i=e.suggested;e.suggested=function(e){i(n,e)}}if(e.empty){var t=e.empty;e.empty=function(){t.call(null,n)}}e.email=this.val(),a.mailcheck.run(e)}}(jQuery),e.getDebugFunc={splitEmail:a.mailcheck.splitEmail,sift3Distance:a.mailcheck.sift3Distance,findClosestDomain:a.mailcheck.findClosestDomain}}(ZD.module("auth"),window);
;!function(n,e,o){var i=ZD.module("ui"),t=(ZD.module("auth"),{NORMAL:0,DUO:1}),s="/App_Scripts/vendor/Duo-Web-v1.min.js";n.SignInView=i.DialogView.extend({options:{mode:t.NORMAL,jsonResponse:null,isSignInLink:!1},tagName:"div",className:"SignIn",initialize:function(){var n=this;n.template=JST.signin,n.mode=n.options.mode,n.jsonResponse=n.options.jsonResponse,_.bindAll(n,"handleData"),$.subscribe("data.form",n.handleData),n.initializeAfterRendered()},initializeAfterRendered:function(){var n=this;n.signInForm=new i.FormView({el:n.$("form"),showDialogs:!1,includeHashInRedirect:!0}),n.signInForm.model.set({response:n.jsonResponse}).processResponse(),n.handleData(null,n.jsonResponse?n.jsonResponse.data:null),n.$("input").eq(0).trigger("focus")},handleData:function(n,e){var o=this,i=e?e.mode:o.mode;switch(i){case t.NORMAL:o.normalize();break;case t.DUO:o.duo(e)}},normalize:function(){var n=this;n.$(".DuoLogin").hide(),n.$(".basic").show()},duo:function(n){var e=this;n&&(e.addDuo(),$.when($.get(s)).then(function(){e.initDuo(n),e.showDuo()}))},initDuo:function(n){var e=this;Duo.init({host:"api-6e73cebc.duosecurity.com",sig_request:n.duoRequest,post_action:"/Auth/DuoSignIn?ReturnUrl="+e.getReturnUrl(n.returnUrl)}),Duo.ready()},addDuo:function(){var n=this;0==n.$(".DuoLogin").length&&n.$el.append(JST.duologin.render())},showDuo:function(){var n=this;n.$(".basic").hide(),n.$(".DuoLogin").show()},getReturnUrl:function(n){var e=this;return e.options.returnUrl||n||"/"}})}(ZD.module("auth"),window);
;!function(e){var o=ZD.module("ui"),n={VERIFY:"Verify",PHONE:"Phone",PIN:"Pin"};e.VerifyView=e.FlowView.extend({el:document.body,options:{views:{phone:{$el:$("#phone")},"phone-buttons":{$el:$("#phone-buttons")},"phone-number":{$el:$("#phone-number")},"phone-readonly":{$el:$("#phone-readonly")},pin:{$el:$("#pin")},verify:{$el:$("#verify")}}},events:{"click .try-again, #phone-readonly .readonly-edit":"clickEditPhone","click .edit-phone":"clickEditPhone"},initialize:function(){var e=this,i=e.options.views;e.model.set({hasPhone:e.model.get("mode")===n.VERIFY}),e.readonlyModel=new Backbone.Model({isEditable:!0}),i["phone-readonly"].$el.append(new o.ReadonlyView({model:e.readonlyModel}).render().el),$.subscribe("data.form",function(o,n){i.verify.$el.find("#VerifyForm_Phone").text(i.phone.$el.find("#phonereadonly-text").text()),e.model.set({mode:n.Mode,formattedNumber:n.FormattedPhoneNumber,phoneMetrics:n.phoneMetrics,message:n.Message})}),e.model.bind("change:mode",e.render,e)},render:function(){var e=this,o=e.options.views,i=o.phone.$el.find("#PhoneForm_Phone");switch(e.model.get("mode")){case n.PHONE:e.showView(o.phone),e.showView(o["phone-number"]),e.hideView(o["phone-readonly"]),e.showView(o["phone-buttons"]),e.hideView(o.pin),e.hideView(o.verify),i.get(0).setSelectionRange&&i.get(0).setSelectionRange(0,100);break;case n.PIN:e.showView(o.phone),e.hideView(o["phone-number"]),e.showView(o["phone-readonly"]),e.hideView(o["phone-buttons"]),e.showView(o.pin),e.hideView(o.verify),e.readonlyModel.set({value:e.model.get("formattedNumber"),isEditable:!0});var t=e.model.get("message");o.pin.$el.find("[name]").first().val(t?t:"").focus();break;default:e.hideView(o.phone),e.hideView(o.pin),e.showView(o.verify);try{e.onPhoneVerifyTracking()}catch(d){}}return this.postRender&&this.postRender(),e},onPhoneVerifyTracking:function(){var e=this,o=e.model.get("phoneMetrics");if(o){var n=o.urls;n&&_.each(n,function(e){var o=$("<iframe style='width:0; height:0;'></iframe>");o.attr("src",e),$("body").append(o)})}},clickEditPhone:function(e){e.preventDefault();var o=this;o.model.get("mode")!==n.PHONE&&o.model.set({mode:n.PHONE})}})}(ZD.module("auth"));
